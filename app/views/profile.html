<div class="summary-view l-info-section l-section l-full-width"
     ng-controller="ProfileCtrl"
     ng-cloak>
  <div class="l-detail-section l-section">

    <div class="title clearfix">
        <h2 class="pull-left">
          <i class="fa fa-user pull-left fa-size-22"></i>
          ข้อมูลผู้ใช้
        </h2>
    </div>

    <div class="content-wrapper content">
      <div class="summary-wrapper profile-wrapper">
        <div class="row">
          <div class="col-lg-offset-4 col-md-offset-4 col-sm-offset-4 col-lg-4 col-md-4 col-sm-5">

              <div class="profile-block panel panel-default">
                  <div class="panel-body">
                      <div class="profile-img text-center radius-100">
                        <input type="file" id="fileInput" class="hidden"/>
                        <a ng-click="chooseImageFile()" >
                          <img ng-src="{{ profile | avatarUrl:'original' }}"
                             ng-if="profile.avatarUrl"
                             class="profile-edit-img radius-100" />
                          <img src="images/avatar.png"
                             ng-if="!profile.avatarUrl"
                             class="radius-100" />
                        </a>
                      </div>
                      <h1 class="profile-name" ng-bind="profile | fullname">ฉัตรชัย ทุติยานนท์</h1>
                      <form class="profile-form" ng-submit="submit($event);">
                        <fieldset ng-disabled="submitting">
                          <legend>เปลี่ยนรหัสผ่าน</legend>
                          <div class="alert alert-danger" role="alert" ng-show="error">
                            <span ng-if="errorCode == 1">กรุณากรอกรหัสผ่านใหม่</span>
                            <span ng-if="errorCode == 11">รหัสผ่านใหม่ต้องมีความยาวไม่น้อยกว่า 4 ตัวอักษร</span>
                            <span ng-if="errorCode == 12">กรุณากรอกรหัสผ่านเป็นตัวเลขเท่านั้น</span>
                            <span ng-if="errorCode == 2">กรุณากรอกเพื่อยืนยันรหัสผ่านใหม่</span>
                            <span ng-if="errorCode == 3">กรุณากรอกช่องรหัสผ่านใหม่และช่องยืนยันรหัสผ่านใหม่ให้ตรงกัน</span>
                            <span ng-if="errorCode == 4">เกิดข้อผิดพลาด กรุณาลองใหม่</span>
                          </div>

                          <div class="alert alert-success" role="alert" ng-show="success">
                            เปลี่ยนรหัสผ่านเรียบร้อยแล้ว
                          </div>

                          <div class="form-group" ng-class="{ 'has-error': (errorCode == 1 || errorCode == 12) }">
                            <label for="password1">รหัสผ่านใหม่</label>
                            <input type="password" class="form-control" id="password1" ng-model="password[0]" >
                          </div>
                          <div class="form-group" ng-class="{ 'has-error': errorCode == 2 }">
                            <label for="password1">รหัสผ่านใหม่อีกครั้ง</label>
                            <input type="password" class="form-control" id="password1" ng-model="password[1]" >
                          </div>

                          <!-- <div class="form-group" ng-class="{ 'has-error': (errorCode == 1 || errorCode == 12) }">
                            <label for="password1" class="col-sm-5 control-label">รหัสผ่านใหม่</label>
                            <div class="col-sm-7">
                              <input type="password" class="form-control" id="password1" ng-model="password[0]">
                            </div>
                          </div> -->

                          <!-- <div class="form-group" ng-class="{ 'has-error': errorCode == 2 }">
                            <label for="password1" class="col-sm-5 control-label">รหัสผ่านใหม่อีกครั้ง</label>
                            <div class="col-sm-7">
                              <input type="password" class="form-control" id="password1" ng-model="password[1]">
                            </div>
                          </div> -->
                          <div class="form-group">
                            <div class="">
                              <button type="submit" class="btn btn-success">บันทึก</button>
                            </div>
                          </div>
                        </fieldset>
                      </form>

                  </div>

              </div>

        </div>
      </div>
    </div>

<!-- Modal -->
<div id="cropModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Position and size your photo</h4>
      </div>
      <div class="modal-body">
          <div class="crop-area">
            <img-crop image="_image" result-image="profile.avatarUrl"></img-crop>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

  </div>
</div>
