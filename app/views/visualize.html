<div class="container visualization-view">
  <div class="row">
    <!-- address -->
    <div class="col-lg-8">
      <h1 ng-bind="areas.selected.address"></h1>
    </div>
    <!-- end address -->

    <!-- select -->
    <div class="col-lg-3">
      <ui-select ng-model="areas.selected" theme="selectize" title="Choose a person">
        <ui-select-match placeholder="Select areas">{{areas.selected.name}}</ui-select-match>
        <ui-select-choices repeat="area in areas.all | filter:$select.search">
          <span ng-bind-html="area.name | highlight:$select.search"></span>
        </ui-select-choices>
      </ui-select>
    </div>
    <!-- end select -->
  </div>

  <!-- error message -->
  <div class="row">
    <div class="col-lg-6 col-lg-offset-3">
      <p class="alert alert-warning" ng-show="data.error">
        เกิดข้อผิดพลาดในการดึงข้อมูล กรุณาลอง<a ng-click="refresh()">รีเฟรชใหม่</a>
      </p>

      <p class="alert alert-info" ng-show="!areas.selected">
        โปรดเลือกพื้นที่ที่ต้องการดูข้อมูล
      </p>
    </div>
  </div>
  <!-- end error message -->

  <!-- content  -->
  <div id="visualization-main-content" class="container" ng-show="data.raw">
    <div class="row">
      <!-- graph1 -->
      <div class="col-lg-6">
        <div class="row">
          จำนวนรายงานทั้งหมด
        </div>
        <div class="row">
          <span class="number-of-reports"
                count-up
                count-to="data.prepared.graph1.totalReports"
                duration="1400"></span>
        </div>
        <div class="row">รายงาน</div>
      </div>
      <!-- end graph1 -->

      <!-- graph2 -->
      <div class="col-lg-6">
        <angularchart
          class="graph2-valid-reports"
          ng-hide="data.prepared.graph2.noReports"
          dataset="data.prepared.graph2.data"
          schema="data.schemas.graph2"
          options="data.options.graph2">
        </angularchart>

        <div class="graph1-legend">
          <div class="legend-positive">
            <span count-up count-to="data.prepared.graph2.positiveReports"></span>
            <br>รายงานไม่พบเหตุผิดปกติ
          </div>
          <div class="legend-negative">
            <span count-up count-to="data.prepared.graph2.negativeReports"></span>
            <br>รายงานเหตุผิดปกติ
          </div>
        </div>

        <div class="graph2-no-reports" ng-show="data.options.graph2.noReports">
          ไม่มีข้อมูลการรายงาน
        </div>
      </div>
      <!-- end graph2 -->
    </div>
  </div>
  <!-- end content -->
</div>
