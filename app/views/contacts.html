<div class="l-info-section l-section l-full-width" ng-controller="ContactsCtrl">
  <div class="l-detail-section l-section">
    <div class="title clearfix">
      <h2 class="pull-left"><i class="fa fa-phone pull-left fa-size-22"></i>สมุดโทรศัพท์</h2>
    </div>

    <div class="content-wrapper content">
      <div class="">
        <form role="form" ng-submit="search()" class="search-block">
            <div class="input-group">
              <input ng-model="query.name" type="text" class="form-control"
               placeholder="ตัวอย่าง. ตำบลสุเทพ">
              
              <span class="input-group-btn">
                  <button class="btn btn-default pd-btn-search" type="submit"><i class="fa fa-search fa-size-18"></i></button>
              </span>

            </div>
        </form>
      </div>

      <div ng-show="loading" loader-spinner></div>
      <div class="loading-block" ng-show="error">เกิดข้อผิดพลาด</div>
      <div class="loading-block" ng-show="empty">ไม่พบผลการค้นหาที่กำหนด</div>

      <div class="contact-list" ng-show="!loading && !willShowResult">

        <table class="table table-hover">
          <thead>
            <tr>
              <th>สังกัด</th>
              <th>พื้นที่</th>
              <th>ผู้ติดต่อ</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="area in administrationAreas">
              <td>
                {{ area.parentName}}

                <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal" ng-show="area.parentName" ng-click="selectedArea(area)">
                  แก้ไข
                </button>

              </td>
              <td>
                {{ area.name}}
              </td>
              <td>
                {{ area.contacts }}
              </td>
            </tr>
          </tbody>
        </table>

        <div class="loadmore" ng-show="canLoadMore">
          <button class="btn btn-default center-block" type="button" ng-click="loadMore()" ng-disabled="disabledLoadmoreBtn">{{ disabledLoadmoreBtn ? 'Loading...' : 'Load more...' }}</button>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">{{ selected }}</h4>
              </div>
              <div class="modal-body">
                ...
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">ปิด</button>
                <button type="button" class="btn btn-primary">อัพเดท</button>
              </div>
            </div>
          </div>
        </div>        

      </div><!-- /contact-list -->
    </div>


  </div>
</div>
